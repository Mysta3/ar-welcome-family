<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.0/aframe/build/aframe-ar.js"></script>
  <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
  <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>
  <script src="https://rawgit.com/takahirox/aframe-outline/master/build/aframe-outline.min.js"></script>
  <body style="margin: 0px; overflow: hidden">
    <script>
      AFRAME.registerComponent('modify-materials', {
        init: function () {
          // Wait for model to load.
          this.el.addEventListener('model-loaded', () => {
            // Grab the mesh / scene.
            const obj = this.el.getObject3D('mesh');
            console.log(obj);
            // Go over the submeshes and modify materials we want.
            obj.traverse((node) => {
              if (node.name.indexOf('Torus') !== -1) {
                node.material.color.set('#F79520'); //modify model
              }
              if (node.name.indexOf('Text') !== -1) {
                node.material.color.set('#000000'); //modify text color
              }
            });
          });
        },
      });
    </script>
    <a-scene outline stats embedded arjs="trackingMethod: best; debugUIEnabled: false">
      <!-- LOAD ASSETS -->
      <a-assets>
        <a-asset-item
          id="optimerBoldFont"
          src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"
        ></a-asset-item>

        <a-asset-item
          id="choz3nModel"
          src="./models/thechoz3ns_model.gltf"
        ></a-asset-item>
      </a-assets>

      <a-marker preset="kanji">
        <!-- TRY ADDING A BLACK AND WHITE MARKER -->

        <!-- <a-animation
          attribute="rotation"
          dur="2000"
          easing="linear"
          from="0 0 0"
          to="0 360 0"
        ></a-animation> -->
        <a-entity>
              <a-entity position="0 2.25 -15" particle-system="color: #EF0000,#44CC00"></a-entity>
          </a-entity>

        <!-- Top Phrase -->
        <!-- <a-entity rotation="">
          <a-entity outline
            material="color: white; src: #texture"
            position=" -4 2 -2"
            text-geometry="value: Welcome; font: #optimerBoldFont"
          ></a-entity>
        </a-entity>

        <!- Bottom Phrase -->
          <a-entity
            material=" color: white; src: #texture"
            position=" -4 1.5 0.6"
            rotation="-90 0 0"
            text-geometry="value:Choz3nFam!; font: #optimerBoldFont"
          ></a-entity>

        <!-- GLTF MODEL -->
        
          <!-- <a-entity
            rotation="-175 90 -95"
            position="2 0 0"
            gltf-model="#choz3nModel"
            modify-materials
          >
          </a-entity> -->
        
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
